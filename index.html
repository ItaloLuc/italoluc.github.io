<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bem-vindo ao Meu Portfólio</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/5.1.3/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../style.css">
</head>
<body>
    <iframe src="background.html" frameborder="0" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1;" scrolling="no"></iframe>
    <section id="intro" class="d-flex justify-content-center align-items-center text-center">
        <div class="intro-content">
            <div class="blur-background"></div>
            <h1>Ítalo Lúcio</h1>
            <p>Espero que goste do que vai ver!</p>
            <button id="intro-button" class="btn btn-primary" onmouseenter="playSoundHover()" onclick="playSoundClick()">Dar uma olhada</button>
        </div>

        <div id="language-switcher" class="d-flex justify-content-center mt-3">
            <button id="btn-en" class="btn btn-secondary" onmouseenter="playSoundHover()" onclick="playSoundClick()">English</button>
            <button id="btn-pt" class="btn btn-secondary" onmouseenter="playSoundHover()" onclick="playSoundClick()">Português</button>
        </div>

        

    </section>

    <audio id="hover-sound">
        <source src="sounds/hover.wav" type="audio/wav">
    </audio>

    <audio id="click-sound">
        <source src="sounds/transition.wav" type="audio/wav">
    </audio>
    
    <script>

    const translations = {
        en: {
            introTitle: "Welcome to My Portfolio",
            introSubtitle: "I hope you like what you see!",
            buttonText: "Take a look",
        },
        pt: {
            introTitle: "Bem-vindo ao Meu Portfólio",
            introSubtitle: "Espero que você goste do que vê!",
            buttonText: "Dar uma olhada",
        },
    };

        const button = document.getElementById('intro-button');
        const introSection = document.getElementById('intro');

        button.addEventListener('click', function () {
            // Add the fade-out class to the intro section
            introSection.classList.add('fade-out');

            // Wait for the animation to complete before redirecting
            setTimeout(() => {
                window.location.href = '/portfolio.html';
            }, 1000); // Match the duration of the fade-out animation

            
        });

        function playSoundHover() {
            const audio = document.getElementById("hover-sound");
            audio.volume = 0.2; // Set the volume level (0.0 to 1.0)
            audio.play();
        }

        function playSoundClick() {
            const audio = document.getElementById("click-sound");
            audio.volume = 0.2; // Set the volume level (0.0 to 1.0)
            audio.play();
        }

        function setLanguage(language) {
            const elements = {
                introTitle: document.querySelector("#intro h1"),
                introSubtitle: document.querySelector("#intro p"),
                buttonText: document.querySelector("#intro-button"),
            };

            const translation = translations[language];
            elements.introTitle.textContent = translation.introTitle;
            elements.introSubtitle.textContent = translation.introSubtitle;
            elements.buttonText.textContent = translation.buttonText;

            // Update the redirect URL for the "Take a Look" button
            const button = document.getElementById("intro-button");
            const redirectUrl = language === "en" ? "portfolio-en.html" : "portfolio.html";

            // Remove any existing event listeners to avoid duplicates
            const newButton = button.cloneNode(true);
            button.parentNode.replaceChild(newButton, button);

            newButton.addEventListener("click", (event) => {
                event.preventDefault(); // Prevent default behavior
                redirectToPortfolio(redirectUrl);
            });

            // Save the selected language to localStorage
            localStorage.setItem("selectedLanguage", language);
        }
        

        // Load the saved language from localStorage or default to Portuguese
        const savedLanguage = localStorage.getItem("selectedLanguage") || "pt";
        setLanguage(savedLanguage);

        // Add event listeners to the language switcher buttons
        document.getElementById("btn-en").addEventListener("click", () => setLanguage("en"));
        document.getElementById("btn-pt").addEventListener("click", () => setLanguage("pt"));

        function redirectToPortfolio(url) {
            const introSection = document.getElementById("intro");
            introSection.classList.add("fade-out"); // Add fade-out animation
            setTimeout(() => {
                window.location.href = url; // Redirect after animation
            }, 1000); // Match the fade-out animation duration
        }
                        
    </script>
</body>
</html>